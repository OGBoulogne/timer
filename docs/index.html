<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link id="fav" rel="shortcut icon" type="image/x-icon" href="data:image/x-icon;,">
  <title id="title">Work</title>
<style>
/* font */
@font-face {
  font-family: 'IBM Plex Mono';
  font-style: italic;
  font-weight: 200;
  src: url(data:font/woff2;base64,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) format('woff2');
}
@font-face {
  font-family: 'IBM Plex Mono';
  font-style: italic;
  font-weight: 500;
  src: url(data:font/woff2;base64,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) format('woff2');
}
@font-face {
  font-family: 'IBM Plex Mono';
  font-style: normal;
  font-weight: 200;
  src: url(data:font/woff2;base64,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) format('woff2');
}
@font-face {
  font-family: 'IBM Plex Mono';
  font-style: normal;
  font-weight: 500;
  src: url(data:font/woff2;base64,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) format('woff2');
}


/* reset */
*, *:before, *:after { box-sizing: border-box }
html { font-size: 16px }
body, h1, h2, h3, h4, h5, h6, p, ol, ul { margin: 0; padding: 0; font-weight: normal }
ol, ul { list-style: none }
img { max-width: 100%; height: auto }

/* da style */
body, button {
  cursor: pointer;
  font-family: monospace;
  border: none;
}

#timer.work { font-size: 30vw }
#timer:not(.work):not(.out-of-range) { font-style: italic }
#timer {
  font-family: 'IBM Plex Mono';
  font-size: 20vw;
  font-weight: 200;
  display: flex;
  justify-content: center;
  height: 100vh;
  width: 100vw;
  position: fixed;
  top: 0;
  align-items: center;
  user-select: none;
  transition: opacity 250ms;
}

.out-of-range #min, .out-of-range #sec { display: none }
#message:before { display: block }
#message:before { content: 'Pause session ended' }
.work #message:before { content: 'Work session ended' }

#message {
  font-family: monospace;
  display: none;
  font-size: 6vw;
  text-align: center;
}
.out-of-range #message { display: initial }

#min { font-weight: 500 }
#sign-in:hover { opacity: 1 }
#sign-in {
  opacity: 0;
  transition: opacity 750ms;
  position: fixed;
  border: 0;
  bottom: 0;
  right: 0;
  z-index: 1;
  transition: opacity 750ms;
}

#bell {
  position: fixed;
  z-index: 1;
}
#bell:not(.off) #sound-off { display: none }
#bell.off #sound-on { display: none }

/* da colors */
#sec, #message:before, #bell:not(.off) { color: #aaa }
#timer.overtime:not(.out-of-range), #bell.off { color: red }

@media (prefers-color-scheme: dark) {
  button, body {
    background: #111;
    color: #eee;
  }

  #sec, #message:before, #bell:not(.off) { color: #555 }
  .overtime #sec { color: #521 }
  #timer.overtime:not(.out-of-range), #bell.off { color: #f53 }
}
</style>
</head>
<body>
<button id="sign-in" disabled>sign-in</button>
<button id="bell" class="off">
  <svg id="sound-off" fill="currentColor" preserveAspectRatio="xMidYMid meet" height="50" width="50" viewBox="0 0 40 40" style="vertical-align:middle"><path d="m30 24.5l-14.9-15.7c0.4-0.2 0.8-0.4 1.2-0.6h0l0.5-0.2c0.2-0.1 0.5-0.1 0.7-0.2v-1.2c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5v1.2c4.8 1.2 7.5 5.4 7.5 10.6v6.1z m-10 12.1c-1.9 0-3.4-1.4-3.4-3.2h6.8c0 1.8-1.5 3.2-3.4 3.2z m-7-26.4c7.4 7.6 14.7 15.1 22 22.7l-2.1 2.1-3.4-3.4h-22.9v-1.6l3.4-3.4v-8.3c0-2.1 0.5-4.1 1.3-5.7l-4.7-4.6 2.2-2.2z"></path></svg>
  <svg id="sound-on" fill="currentColor" preserveAspectRatio="xMidYMid meet" height="50" width="50" viewBox="0 0 40 40" style="vertical-align:middle"><path d="m30 26.6l3.4 3.4v1.6h-26.8v-1.6l3.4-3.4v-8.2c0-5.2 2.7-9.4 7.5-10.6v-1.2c0-1.4 1.1-2.5 2.5-2.5s2.5 1.1 2.5 2.5v1.2c4.8 1.2 7.5 5.5 7.5 10.6v8.2z m-10 10c-1.9 0-3.4-1.4-3.4-3.2h6.8c0 1.8-1.6 3.2-3.4 3.2z"></path></svg>
</button>
<div id="timer" class="work">
  <div id="message"></div>
  <div id="min">00</div><div id="sec">00</div>
</div>
<script>
'use strict'
// get relative time as text
const relatime = ((l,r,f=([u,s],d)=>r.format(~~(d/s),u))=>d=>f(l.find(([u,s])=>Math.abs(d)>s||u[0]=='s'),d))(Object.entries({year:31536e6,month:2628e6,day:864e5,hour:36e5,minute:6e4,second:1e3}),new Intl.RelativeTimeFormat('en',{style:'narrow'}))

// play notes
const play = (() => {
  const signs = ['A','AS', 'B', 'C', 'CS', 'D', 'DS', 'E', 'F', 'FS', 'G', 'GS']
  // DF CS
  // EF DS
  // GF FS
  // AF GS
  // BF AS
  const tempo = 100
  const durations = {
    B: 128, // BREVE
    W: 64, // WHOLE
    H: 32, // HALF
    Q: 16, // QUARTER
    E: 8, // EIGHTH
    S: 4, // SIXTEENTH
    BD: 128+64, // BREVE DOT
    WD: 64+32, // WHOLE DOT
    HD: 32+16, // HALF DOT
    QD: 16+8, // QUARTER DOT
    ED: 8+4, // EIGHTH DOT
    SD: 4+2, // SIXTEENTH DOT
  }

  const context = new AudioContext()
  const types = ['sine', 'square', 'sawtooth', 'triangle']
  const notes = Object.fromEntries(signs.slice(0,8)
    .flatMap((_,o)=>signs.map((s,n)=>[s+(o+1),55*2**((12*o + n)/12)])))
  const noOp = () => {}
  const sound = (frequency, type = 'sine') => {
    const o = context.createOscillator()
    const g = context.createGain()
    o.type = type
    o.frequency.value = frequency
    o.connect(g)
    g.connect(context.destination)
    o.start(0)
    return g
  }

  const chainNote = (next, noteStr) => () => {
    const [ note, rest = '' ] = noteStr.split('.')
    const duration = durations[rest.slice(0, -1)] / tempo
    const g = sound(notes[note], types[rest[rest.length - 1]])
    g.gain.exponentialRampToValueAtTime(1e-9, context.currentTime + duration)
    setTimeout(next, duration*1000)
  }
  const p = melody => melody.split('+').reduceRight(chainNote, noOp)()
  p.sound = sound
  return p
})()

// create dom element
const el = (tag = 'div', props = {}) => Object.assign(document.createElement(tag), props)

const favEl = document.getElementById('fav')
const minEl = document.getElementById('min')
const secEl = document.getElementById('sec')
const bellEl = document.getElementById('bell')
const timerEl = document.getElementById('timer')
const titleEl = document.getElementById('title')
const signInEl = document.getElementById('sign-in')
const messageEl = document.getElementById('message')

const S = 1000, M = 60*S, WORK_DURATION = 25*M, PAUSE_DURATION = 5*M
let _timeout, _db, _work = false

const save = async (now, prev) => {
  if (!_db) {
    const w = Number(localStorage.work === 'work')
    localStorage.stack = `${(localStorage.stack || '')}${now},${prev||0},${w}\n`
    console.log('offline update', localStorage.stack)
    return
  }

  // get prev, update duration
  await _db.timers
    .child(now.toString(36))
    .set({ ts: now, work: localStorage.work === 'work' })
}

const setFav = (canvasEl => {
  const ctx = canvasEl.getContext('2d')
  ctx.font = '84px "IBM Plex Mono"'
  ctx.textAlign = 'center'
  ctx.textBaseline = 'middle'
  favEl.type = 'image/png'

  return (text, color = '#000') => {
    ctx.clearRect(0, 0, 96, 96)
    ctx.fillStyle = color
    ctx.fillText(text, 48, 48)
    favEl.href = canvasEl.toDataURL('image/png')
  }
})(el('canvas', { width: '96', height: '96' }))

setFav('00', 'white')

// todo: move setTimeout to worker
const timings = [...Array(10).keys()].map(n => n ** 2 * M)
const update = () => {
  // async loop
  Promise.resolve(clearTimeout(_timeout)).finally(() => {
    _timeout = setTimeout(update, (Math.floor((start + delta) / S) + 1) * S - now)
  })

  const work = localStorage.work === 'work'
  const wasWork = timerEl.classList.contains('work')
  const start = Number(localStorage.start)
  const now = Date.now()
  const delta = now - Number(localStorage.start)
  const dur = work ? WORK_DURATION : PAUSE_DURATION
  const diff = dur - delta
  const overtime = delta > dur
  const left = overtime ? -diff : diff + S
  const min = Math.floor(left / M)
  const outOfRange = overtime && min > 10

  timerEl.classList.toggle('work', work)
  timerEl.classList.toggle('overtime', overtime)
  timerEl.classList.toggle('out-of-range', outOfRange)

  if (outOfRange) return messageEl.textContent = relatime(diff)
  overtime && timings.find(t => left > t && left < t + S) && play('CS6.ED+A7.BD')
  if (min != minEl.textContent) {
    const color = overtime ? 'red' : 'white'
    setFav(minEl.textContent = String(min).padStart(2, '0'), color)
  }
  if (wasWork !== work) {
    titleEl.textContent = work ? 'Work' : 'Pause'
  }
  secEl.textContent = String(Math.floor(left / S) % 60).padStart(2, '0')
}

const toggleWork = work => localStorage.work = work ? 'work' : ''

timerEl.addEventListener('click', (e) => {
  const now = Date.now()
  toggleWork(localStorage.work !== 'work')
  
  save(now, Number(localStorage.start))
  localStorage.start = now
  update()
})

if (localStorage.start) {
  timerEl.style.opacity = 0
  setTimeout(() => timerEl.style.opacity = 1, 15)
  update()
}

// BELL
bellEl.addEventListener('click', () => {
  const off = !bellEl.classList.contains('off')
  bellEl.classList.toggle('off', off)
  if (off) return
  play('A7.ED+B7.ED+CS7.BD')
  // if mobile:
  play.sound(8e4) // play an unplayable sound to prevent sleep (to test)
})


// DATABASE
const fetchText = async url => (await fetch(url)).text()
const loadScript = async urls => {
  const files = await Promise.all(urls.map(fetchText))
  document.head.appendChild(el('script', { innerHTML: files.join('\n') }))
}

const load = async () => {
  await loadScript([
    '/__/firebase/7.13.1/firebase-app.js',
    '/__/firebase/7.13.1/firebase-auth.js',
    '/__/firebase/7.13.1/firebase-database.js',
    '/__/firebase/init.js',
  ])
  return firebase.app()
}

const auth = async () => {
  const user = await getUser()
  return user ? { user } : firebase.auth().getRedirectResult()
    .catch(error => ({ error }))
}

const signIn = (e) => {
  // Start a sign in process for an unauthenticated user.
  const provider = new firebase.auth.GithubAuthProvider()
  firebase.auth().signInWithRedirect(provider)
}

const getUser = () => new Promise((s) => {
  firebase.auth().onAuthStateChanged(s)
})

const init = async app => {
  signInEl.disabled = false
  if (!app) {
    signInEl.textContent = `offline, retry`
    signInEl.onclick = () => {
      signInEl.disabled = true
      load().catch(console.error).then(init)
    }
    return
  }
  const { user, error } = await auth()
  signInEl.style.opacity = 1
  if (!user) {
    error && console.dir(error)
    signInEl.onclick = signIn
    return
  }
  _db = false
  signInEl.textContent = `${user.email} sign-out`
  // todo, handle sign out
  setTimeout(() => signInEl.style.opacity = '', 35000)
  const db = firebase.database()
  const timers = db.ref(user.uid)
  const lastTimers = timers.orderByChild('ts').limitToLast(1)

  const apply = snap => {
    if (!snap || !snap.val) return
    const { ts, work } = snap.val()
    if (ts < Number(localStorage.start)) return
    localStorage.start = ts
    toggleWork(work)
    update()
  }

  const [last] = Object.values((await lastTimers.once('value')).val() || {})
  last && apply(last)
  lastTimers.on('child_added', apply)

  timers.child(Date.now().toString(36))
  _db = { timers }
}

load().catch(console.error).then(init)


</script>
</body>
</html>